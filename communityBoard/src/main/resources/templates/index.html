<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>개발자 모여라</title>
    <script src="https://kit.fontawesome.com/bdfd7f14f2.js" crossorigin="anonymous"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@400;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" type="text/css" th:href="@{/css/style.css}">
    <link rel="stylesheet" type="text/css" th:href="@{/css/sidebar.css}">
    <link rel="stylesheet" type="text/css" th:href="@{/css/posts.css}">
    <link rel="stylesheet" type="text/css" th:href="@{/css/post-detail.css}">
    <script type="text/javascript" th:src="@{/js/main.js}" defer></script>
</head>
<body>
<!-- NavBar -->
<nav >
    <div class="navbar-container">
        <div>
            <h2 class="navbar__title"><a th:href="@{/}" >Community Board Project </a></h2>
        </div>
        <div>
            <ul class="navbar__menu">
                <li class="navbar__menu__item"><a th:href="@{/}" >Home</a></li>
                <li class="navbar__menu__item" th:unless="${userName}"><a th:href="@{/login}">로그인</a></li>
                <li class="navbar__menu__item" th:if="${userName}"><a th:href="@{/posts/save}">글쓰기</a></li>
                <li class="navbar__menu__item" th:if="${userName}"><a th:href="@{/logout}">로그아웃</a></li>
                <li class="navbar__menu__item" th:if="${userName}"><a th:href="@{/mypage}">마이 페이지</a></li>
            </ul>
        </div>
    </div>
</nav>

<div class="page-wrapper chiller-theme toggled">
    <nav id="sidebar" class="sidebar-wrapper">
        <div class="sidebar-content">
            <!-- sidebar-search  -->
            <div class="sidebar-menu">
                <ul>
                    <li class="header-menu">
                        <span>게시판 분류</span>
                    </li>
                    <li th:each="category : ${categoryList}" class = "sidebar-dropdown">
                        <a th:href = "@{/api/v1/posts/category/{id}(id = ${category.id})}">
                        <span th:text="${category.name}"></span>
                        </a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <div id="container">
        <div class="wrap title">전체 글</div>
        <div class="wrap articles">
            <article th:each="post : ${postList}">
                <a class = "article" th:href = "@{/api/v1/posts/{id}(id = ${post.id})}">
                    <h2 class = "medium" th:text="${post.title}"></h2>
                    <div class = "status-box">
                        <p class = "small" th:text="${post.content}"></p>
                        <time class = "small" th:text="${post.adjustedCreatedDate}"></time>
                        <h3 class ="small" th:text="${post.user.name}"></h3>
                        <ul class = "status">
                            <li class="vote" th:text="${post.postLikesCount}"></li>
                            <li class="comment" th:text="${post.commentCount}"></li>
                        </ul>
                    </div>
                </a>
            </article>
        </div>

        <!-- 검색 폼 영역 -->
        <div>
            <form id="searchArticleForm">
                <select name = "search-type">
                    <option value = "4">전체</option>
                    <option value = "3">제목</option>
                    <option value = "2">내용</option>
                    <option value = "1">제목+내용</option>
                </select>
                <input name="keyword" placeholder="검색어를 입력하세요." class = "text">
            </form>
        </div>
    </div>
</div>
<script type="text/javascript" th:inline="javascript">
    /*<![CDATA[*/
    /*]]>*/
</script>


</body>
</html>

